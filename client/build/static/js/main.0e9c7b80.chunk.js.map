{"version":3,"sources":["UserContext.js","Header.js","Layout.js","post.js","pages/IndexPage.js","pages/LoginPage.js","pages/RegisterPage.js","Editor.js","pages/CreatePage.js","pages/PostPage.js","pages/EditPost.js","App.js","reportWebVitals.js","index.js"],"names":["UserContext","createContext","UserContextProvider","_ref","children","userInfo","setUserInfo","useState","React","createElement","Provider","value","Header","useContext","useEffect","fetch","credentials","then","response","json","userName","Link","to","className","Fragment","href","onClick","method","Layout","Outlet","Post","_id","title","summary","cover","content","createdAt","author","concat","src","alt","formatISO9075","Date","IndexPage","posts","setPosts","length","map","post","LoginPage","setUserName","password","setPassword","redirect","setRedirect","Navigate","onSubmit","async","ev","preventDefault","responce","body","JSON","stringify","headers","Content-Type","ok","alert","type","placeholder","onChange","target","RegisterPage","status","modules","toolbar","header","list","indent","formats","Editor","ReactQuill","theme","CreatePost","setTitle","setSummary","setContent","files","setFiles","data","FormData","set","name","id","e","style","marginTop","PostPage","postInfo","setPostInfo","useParams","dangerouslySetInnerHTML","__html","EditPost","App","Routes","Route","path","element","index","reportWebVitals","onPerfEntry","Function","__webpack_require__","bind","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","createRoot","document","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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","file":"static/js/main.0e9c7b80.chunk.js","sourcesContent":["import React from 'react';\r\nimport { createContext, useState } from 'react';\r\n\r\nexport const UserContext = createContext({});\r\n\r\nexport function UserContextProvider({ children }) {\r\n  const [userInfo, setUserInfo] = useState({});\r\n  return (\r\n    <UserContext.Provider value={{ userInfo, setUserInfo }}>\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { UserContext } from './UserContext';\r\n\r\nfunction Header() {\r\n  const { userInfo, setUserInfo } = useContext(UserContext);\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/profile', { credentials: 'include' }).then(\r\n      (response) => {\r\n        response.json().then((userInfo) => {\r\n          setUserInfo(userInfo.userName);\r\n        });\r\n      }\r\n    );\r\n  }, [setUserInfo]);\r\n\r\n  function logout() {\r\n    fetch('http://localhost:4000/logout', {\r\n      credentials: 'include',\r\n      method: 'POST',\r\n    });\r\n    setUserInfo(null);\r\n  }\r\n  const userName = userInfo?.userName;\r\n  return (\r\n    <header>\r\n      <Link to=\"/\" className=\"logo\">\r\n        My Blog\r\n      </Link>\r\n      <nav>\r\n        {userName && (\r\n          <>\r\n            <Link to=\"/create\">Create New post</Link>\r\n            <a href=\"/\" onClick={logout}>\r\n              Logout\r\n            </a>\r\n          </>\r\n        )}\r\n        {!userName && (\r\n          <>\r\n            <Link to=\"/login\">Login</Link>\r\n            <Link to=\"/register\">Register</Link>\r\n          </>\r\n        )}\r\n      </nav>\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header;\r\n","import React from 'react';\r\nimport { Outlet } from 'react-router-dom';\r\nimport Header from './Header';\r\n\r\nexport default function Layout() {\r\n  return (\r\n    <main>\r\n      <Header />\r\n      <Outlet />\r\n    </main>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { formatISO9075 } from 'date-fns';\r\nimport { Link } from 'react-router-dom';\r\n\r\nexport default function Post({\r\n  _id,\r\n  title,\r\n  summary,\r\n  cover,\r\n  content,\r\n  createdAt,\r\n  author,\r\n}) {\r\n  return (\r\n    <div>\r\n      <div className=\"post\">\r\n        <div className=\"image\">\r\n          <Link to={`/post/${_id}`}>\r\n            <img src={'http://localhost:4000/' + cover} alt=\"\" />\r\n          </Link>\r\n        </div>\r\n        <div className=\"texts\">\r\n          <Link to={`/post/${_id}`}>\r\n            <h2>{title}</h2>\r\n          </Link>\r\n\r\n          <p className=\"info\">\r\n            <a href=\"/\" className=\"author\">\r\n              {author.userName}\r\n            </a>\r\n            <time>\r\n              {formatISO9075(new Date(createdAt), 'MMM d, yyyy HH:mm')}\r\n            </time>\r\n          </p>\r\n          <p className=\"summary\">{summary}</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Post from '../post';\r\nimport { useEffect, useState } from 'react';\r\n\r\nexport default function IndexPage() {\r\n  const [posts, setPosts] = useState([]);\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/post').then((response) => {\r\n      response.json().then((posts) => {\r\n        setPosts(posts);\r\n      });\r\n    });\r\n  }, []);\r\n  return <>{posts.length > 0 && posts.map((post) => <Post {...post} />)}</>;\r\n}\r\n","import React from 'react';\r\nimport { useContext, useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport { UserContext } from '../UserContext';\r\nexport default function LoginPage() {\r\n  const [userName, setUserName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  const { setUserInfo } = useContext(UserContext);\r\n  async function login(ev) {\r\n    ev.preventDefault();\r\n    const responce = await fetch('http://localhost:4000/login', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ userName, password }),\r\n      headers: { 'Content-Type': 'application/json' },\r\n      credentials: 'include',\r\n    });\r\n    if (responce.ok) {\r\n      responce.json().then((userInfo) => {\r\n        setUserInfo(userInfo);\r\n        setRedirect(true);\r\n      });\r\n    } else {\r\n      alert('wrong credentials');\r\n    }\r\n  }\r\n\r\n  if (redirect) {\r\n    return <Navigate to={'/'} />;\r\n  }\r\n  return (\r\n    <form className=\"login\" onSubmit={login}>\r\n      <h1>Login</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"UserName\"\r\n        value={userName}\r\n        onChange={(ev) => {\r\n          setUserName(ev.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Password\"\r\n        value={password}\r\n        onChange={(ev) => {\r\n          setPassword(ev.target.value);\r\n        }}\r\n      />\r\n      <button>Login</button>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\n\r\nexport default function RegisterPage() {\r\n  const [userName, setUserName] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  async function register(ev) {\r\n    ev.preventDefault();\r\n\r\n    const response = await fetch('http://localhost:4000/register', {\r\n      method: 'POST',\r\n      body: JSON.stringify({ userName, password }),\r\n      headers: { 'Content-Type': 'application/json' },\r\n    });\r\n    if (response.status === 200) {\r\n      alert('registration successful');\r\n    } else {\r\n      alert('registration failed');\r\n    }\r\n  }\r\n  //\r\n  return (\r\n    <form className=\"register\" onSubmit={register}>\r\n      <h1>Register</h1>\r\n      <input\r\n        type=\"text\"\r\n        placeholder=\"UserName\"\r\n        value={userName}\r\n        onChange={(ev) => {\r\n          setUserName(ev.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"password\"\r\n        placeholder=\"Password\"\r\n        value={password}\r\n        onChange={(ev) => {\r\n          setPassword(ev.target.value);\r\n        }}\r\n      />\r\n      <button>Register</button>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\nconst modules = {\r\n  toolbar: [\r\n    [{ header: [1, 2, false] }],\r\n    ['bold', 'italic', 'underline', 'strike', 'blockquote'],\r\n    [\r\n      { list: 'ordered' },\r\n      { list: 'bullet' },\r\n      { indent: '-1' },\r\n      { indent: '+1' },\r\n    ],\r\n    ['link', 'image'],\r\n    ['clean'],\r\n  ],\r\n};\r\nconst formats = [\r\n  'header',\r\n  'bold',\r\n  'italic',\r\n  'underline',\r\n  'strike',\r\n  'blockquote',\r\n  'list',\r\n  'bullet',\r\n  'indent',\r\n  'link',\r\n  'image',\r\n];\r\n\r\nexport default function Editor({ value, onChange }) {\r\n  // return (\r\n  //   <ReactQuill\r\n  //     modules={modules}\r\n  //     formats={formats}\r\n  //     value={value}\r\n  //     onChange={onChange}\r\n  //   />\r\n  // );\r\n\r\n  return (\r\n    <ReactQuill\r\n      modules={modules}\r\n      formats={formats}\r\n      theme=\"snow\"\r\n      value={value}\r\n      onChange={onChange}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { useState } from 'react';\r\nimport { Navigate } from 'react-router-dom';\r\nimport Editor from '../Editor';\r\n\r\nexport default function CreatePost() {\r\n  const [title, setTitle] = useState('');\r\n  const [summary, setSummary] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [files, setFiles] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n  async function createNewPost(ev) {\r\n    const data = new FormData();\r\n    data.set('title', title);\r\n\r\n    data.set('summary', summary);\r\n    data.set('content', content);\r\n    data.set('file', files[0]);\r\n\r\n    ev.preventDefault();\r\n\r\n    const response = await fetch('http://localhost:4000/post', {\r\n      method: 'POST',\r\n      body: data,\r\n      credentials: 'include',\r\n    });\r\n    if (response.ok) {\r\n      setRedirect(true);\r\n    }\r\n  }\r\n\r\n  if (redirect) {\r\n    return <Navigate to={'/'} />;\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={createNewPost}>\r\n      <input\r\n        type=\"title\"\r\n        name=\"\"\r\n        id=\"\"\r\n        placeholder=\"Title\"\r\n        value={title}\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"Summary\"\r\n        name=\"\"\r\n        id=\"\"\r\n        placeholder=\"Summary\"\r\n        value={summary}\r\n        onChange={(e) => {\r\n          setSummary(e.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        onChange={(ev) => {\r\n          setFiles(ev.target.files);\r\n        }}\r\n      />\r\n      <Editor value={content} onChange={setContent} />\r\n      <button style={{ marginTop: '5px' }}>Create Post</button>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport { formatISO9075 } from 'date-fns';\r\nimport { useEffect, useState, useContext } from 'react';\r\nimport { useParams, Link } from 'react-router-dom';\r\nimport { UserContext } from '../UserContext';\r\n\r\nexport default function PostPage() {\r\n  const [postInfo, setPostInfo] = useState('');\r\n  const { userInfo } = useContext(UserContext);\r\n  const { id } = useParams();\r\n  useEffect(() => {\r\n    fetch(`http://localhost:4000/post/${id}`).then((response) => {\r\n      response.json().then((postInfo) => {\r\n        setPostInfo(postInfo);\r\n      });\r\n    });\r\n  }, [id]);\r\n  if (!postInfo) return '';\r\n  return (\r\n    <div className=\"post-page\">\r\n      <div className=\"image\">\r\n        <img src={`http://localhost:4000/${postInfo.cover}`} alt=\"img\"></img>\r\n      </div>\r\n      <h1>{postInfo.title}</h1>\r\n      <time>{formatISO9075(new Date(postInfo.createdAt))}</time>\r\n      <div className=\"author\">by {postInfo.author.userName}</div>\r\n      {userInfo && userInfo.id === postInfo.author._id && (\r\n        <div className=\"edit-row\">\r\n          <Link className=\"edit-btn\" to={`/edit/${postInfo._id}`}>\r\n            Edit this post\r\n          </Link>\r\n        </div>\r\n      )}\r\n\r\n      <div dangerouslySetInnerHTML={{ __html: postInfo.content }} />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nimport { useEffect, useState } from 'react';\r\n\r\nimport { Navigate, useParams } from 'react-router-dom';\r\nimport Editor from '../Editor';\r\n\r\nexport default function EditPost() {\r\n  const { id } = useParams();\r\n  const [title, setTitle] = useState('');\r\n  const [summary, setSummary] = useState('');\r\n  const [content, setContent] = useState('');\r\n  const [files, setFiles] = useState('');\r\n  const [redirect, setRedirect] = useState(false);\r\n\r\n  useEffect(() => {\r\n    fetch('http://localhost:4000/post/' + id).then((response) => {\r\n      response.json().then((postInfo) => {\r\n        setTitle(postInfo.title);\r\n        setContent(postInfo.content);\r\n        setSummary(postInfo.summary);\r\n      });\r\n    });\r\n  }, [id]);\r\n\r\n  async function updatePost(ev) {\r\n    ev.preventDefault();\r\n    const data = new FormData();\r\n    data.set('title', title);\r\n\r\n    data.set('summary', summary);\r\n    data.set('content', content);\r\n    data.set('id', id);\r\n    if (files?.[0]) {\r\n      data.set('file', files?.[0]);\r\n    }\r\n\r\n    const response = await fetch('http://localhost:4000/post', {\r\n      method: 'PUT',\r\n      body: data,\r\n      credentials: 'include',\r\n    });\r\n    if (response.ok) {\r\n      setRedirect(true);\r\n    }\r\n  }\r\n\r\n  if (redirect) {\r\n    return <Navigate to={'/post/' + id} />;\r\n  }\r\n  return (\r\n    <form onSubmit={updatePost}>\r\n      <input\r\n        type=\"title\"\r\n        name=\"\"\r\n        id=\"\"\r\n        placeholder={'Title'}\r\n        value={title}\r\n        onChange={(e) => {\r\n          setTitle(e.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"Summary\"\r\n        name=\"\"\r\n        id=\"\"\r\n        placeholder=\"Summary\"\r\n        value={summary}\r\n        onChange={(e) => {\r\n          setSummary(e.target.value);\r\n        }}\r\n      />\r\n      <input\r\n        type=\"file\"\r\n        onChange={(ev) => {\r\n          setFiles(ev.target.files);\r\n        }}\r\n      />\r\n      <Editor value={content} onChange={setContent} />\r\n      <button style={{ marginTop: '5px' }}>Update Post</button>\r\n    </form>\r\n  );\r\n}\r\n","import './App.css';\r\nimport React from 'react';\r\nimport { Routes, Route } from 'react-router-dom';\r\nimport Layout from './Layout';\r\nimport IndexPage from './pages/IndexPage';\r\nimport LoginPage from './pages/LoginPage';\r\nimport RegisterPage from './pages/RegisterPage';\r\nimport CreatePost from './pages/CreatePage';\r\nimport { UserContextProvider } from './UserContext';\r\nimport PostPage from './pages/PostPage';\r\nimport EditPost from './pages/EditPost';\r\nfunction App() {\r\n  return (\r\n    <UserContextProvider>\r\n      <Routes>\r\n        <Route path=\"/\" element={<Layout />}>\r\n          <Route index element={<IndexPage />} />\r\n          <Route path={'/login'} element={<LoginPage />} />\r\n          <Route path={'/register'} element={<RegisterPage />} />\r\n          <Route path={'/create'} element={<CreatePost />} />\r\n          <Route path={'/post/:id'} element={<PostPage />} />\r\n          <Route path={'/edit/:id'} element={<EditPost />} />\r\n        </Route>\r\n      </Routes>\r\n    </UserContextProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'));\r\nroot.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter>\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}